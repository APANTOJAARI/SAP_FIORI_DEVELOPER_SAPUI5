
<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns="sap.m" controllerName="efolder.sap.ZACTUACION.controller.main" displayBlock="true"><Page showHeader="false"><content><Panel expandable="{oViewModel>/expandable}" expanded="false" backgroundDesign="Solid"><headerToolbar><Toolbar><Title text="{i18n>cabecera}" class="sapUiTinyMargin"></Title></Toolbar></headerToolbar><f:SimpleForm editable="true" layout="ResponsiveGridLayout" labelSpanXL="5" labelSpanL="5" labelSpanM="5" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="2" columnsM="2" singleContainerFullSize="false"><f:content><Label text="{i18n>tituloExpediente}"/><Input
                        value="{jsonModelAct>LineId}" maxLength="75" editable="{oViewModel>/edit}"/><Label text="{i18n>tipoExpediente}"/><Text
                        text="{jsonModelAct>Tipex}"/><Label text="{i18n>tareaExp}"/><Text text="{jsonModelAct>TareaExp} {= ${jsonModelAct>TareaExp} &amp;&amp; ${jsonModelAct>DescripTareaExp} ? '-' : ''} {jsonModelAct>DescripTareaExp}"/><Label text="{i18n>centroEmplazamiento}" required="true"/><Input change="onChangeZona" required="true" value="{jsonModelAct>Zona}" fieldWidth="80px" description="{jsonModelAct>DescripZona}" editable="{oViewModel>/edit}" showValueHelp="true" valueHelpRequest="genericHelpRequestZona"></Input><Label text="{i18n>grupoPlanificador}" required="true"/><Input editable="{oViewModel>/edit}" required="true" fieldWidth="80px" value="{jsonModelAct>GrupoPlanificador}" description="{jsonModelAct>DescripGrupoPlanificador}" showValueHelp="true" valueHelpRequest="genericHelpRequestLocal" change="onGenericChange"><customData><core:CustomData key="helpSet" value="INGRP"></core:CustomData><core:CustomData key="internalHelpSet" value="/ISDFPS/H_INGRP"></core:CustomData></customData></Input><Label text="{i18n>municipio}" required="true"/><Input required="true" editable="{oViewModel>/edit}" fieldWidth="85px" value="{jsonModelAct>CodMunicipio}" description="{jsonModelAct>DescripCodMunicipio}" showValueHelp="true" valueHelpRequest="genericHelpRequestMunicipio" change="onChangeMunicipio"></Input><Label text="{i18n>codPostal}"/><Input editable="{oViewModel>/edit}" value="{jsonModelAct>CodPostal}" showValueHelp="true" valueHelpRequest="genericHelpRequestCodPostal"></Input><Label text="{i18n>distrito}"/><Input editable="{oViewModel>/edit}" value="{jsonModelAct>Distrito}" showValueHelp="true" valueHelpRequest="genericHelpRequestDistrito"></Input><Label text="{i18n>areaEnerg}" required="true"/><Input showValueHelp="true" required="true" valueHelpRequest="genericHelpRequestAreaEnergetica" editable="{oViewModel>/edit}" value="{jsonModelAct>CodArea}" description="{jsonModelAct>DescripAreaEnergetica}"><customData><core:CustomData key="fieldZona" value="{jsonModelAct>Zona}"></core:CustomData></customData></Input><Label text="{i18n>fechaAlta}"/><Text
                        text="{path:'jsonModelAct>FechaAlta', type:'sap.ui.model.type.Date', formatOptions: {pattern: 'dd.MM.yyyy', UTC: true}}"/><Label text="{i18n>fechaPrevIni}" required="true"/><DatePicker
                        editable="{oViewModel>/edit}" required="true" dateValue="{jsonModelAct>FechaPrevIni}" displayFormat="dd.MM.yyyy"/><Label text="{i18n>fechaInicio}"/><Text
                        text="{path:'jsonModelAct>FechaInicio', type:'sap.ui.model.type.Date', formatOptions: {pattern: 'dd.MM.yyyy', UTC: true}}"/><Label text="{i18n>expedienteCancelado}"/><CheckBox selected="{jsonModelAct>ExpdnteCancelado}" editable="false"></CheckBox><Label text=""/><Button text="{i18n>consultarDocu}" press="navDocu"></Button><core:Title/><Label text="{i18n>codigoExp}"/><Text
                        text="{jsonModelAct>Recid}"/><Label text="{i18n>estadoExpediente}"/><Text text="{jsonModelAct>EstadoExpediente} {= ${jsonModelAct>EstadoExpediente} &amp;&amp; ${jsonModelAct>DescripcionEstadoExp} ? '-' : ''} {jsonModelAct>DescripcionEstadoExp}"/><Label text=""></Label><Text text=""></Text><Label text="{i18n>emplazamiento}" required="true"/><Input value="{jsonModelAct>Delegacion}" required="true" description="{jsonModelAct>DescripDelegacion}" editable="{oViewModel>/edit}" showValueHelp="true" valueHelpRequest="genericHelpRequestDelegacion" change="onChangeDelegacion"></Input><Label text="{i18n>provincia}" required="true"/><Input required="true" value="{jsonModelAct>CodProvincia}" fieldWidth="30px" description="{jsonModelAct>DescripCodProvincia}" editable="{oViewModel>/edit}" showValueHelp="true" valueHelpRequest="genericHelpRequestProvincia" change="onChangeProvincia"><customData><core:CustomData key="helpSet" value="BLAND"></core:CustomData><core:CustomData key="internalHelpSet" value="/SAPAPO/SH_REGION"></core:CustomData></customData></Input><Label text="{i18n>direccion}"/><Input value="{jsonModelAct>Direccion}" showValueHelp="false" editable="{oViewModel>/edit}" valueHelpRequest="genericHelpRequest"><customData><core:CustomData key="helpSet" value="DIRECCION"></core:CustomData><core:CustomData key="internalHelpSet" value="CLSTRTNAME"></core:CustomData></customData></Input><Label text="{i18n>tipoActuacion}" required="true"/><Input value="{jsonModelAct>TipoActuacion}" required="true" fieldWidth="80px" description="{jsonModelAct>DescripcionTipoActu}" editable="{oViewModel>/edit}" showValueHelp="true" valueHelpRequest="genericHelpRequestTipoActuacion" change="onChangeTipoActuacion"></Input><Label text=""/><Text text=""/><Label text="{i18n>subAreaEnerg}"/><Input value="{jsonModelAct>SubareaEnergetica}" fieldWidth="80px" editable="{oViewModel>/edit}" showValueHelp="true" valueHelpRequest="genericHelpRequest"><customData><core:CustomData key="helpSet" value=""></core:CustomData><core:CustomData key="internalHelpSet" value=""></core:CustomData></customData></Input><Label text=""/><Text
                        text=""/><Label text="{i18n>fechaPrevFin}" required="true"/><DatePicker
                        editable="{oViewModel>/edit}" required="true" dateValue="{jsonModelAct>FechaPrevFin}"  displayFormat="dd.MM.yyyy"/><Label text="{i18n>fechaFin}"/><Text text="{path:'jsonModelAct>FechaFin', type:'sap.ui.model.type.Date', formatOptions: {pattern: 'dd.MM.yyyy', UTC: true}}"/><Label text="{i18n>UsuarioAlta}"></Label><Text text="{jsonModelAct>Solicitante}" /></f:content></f:SimpleForm><Panel expandable="false" expanded="true" backgroundDesign="Solid"><headerToolbar><Toolbar><Title text="{i18n>avisos}" class="sapUiTinyMargin"></Title><ToolbarSpacer></ToolbarSpacer><Button icon="sap-icon://add" press="addAviso" visible="{oViewModel>/edit}"></Button></Toolbar></headerToolbar><Table items="{jsonModelAct>/Avisos}"><columns><Column><header><Label text="{i18n>claseAviso}"></Label></header></Column><Column width="8rem"><header><Label text="{i18n>codigoAviso}"></Label></header></Column><Column><header><Label text="{i18n>textoCortoAviso}"></Label></header></Column><Column><header><Label text="{i18n>ubicacionTecnica}"></Label></header></Column><Column><header><Label text="{i18n>equipo}"></Label></header></Column><Column><header><Label text="{i18n>Motivo}"></Label></header></Column><Column width="40px"></Column><Column width="40px" visible="{oViewModel>/edit}"></Column><Column width="40px" visible="{oViewModel>/edit}"></Column></columns><items><ColumnListItem visible="{= ${jsonModelAct>_deleteInd} !== true}"><Text text="{jsonModelAct>ClaseAviso}"></Text><Input value="{jsonModelAct>CodAviso}" showValueHelp="true" editable="{= ${oViewModel>/edit} &amp;&amp; ${jsonModelAct>_isNew} === true }" change="onChangeCodAviso" valueHelpRequest="genericHelpRequestCodAviso"><customData><core:CustomData key="helpSet" value="QMART"></core:CustomData><core:CustomData key="internalHelpSet" value="QMELCANO"></core:CustomData><core:CustomData key="tipoAct" value="{jsonModelAct>TipoActuacion}"></core:CustomData></customData></Input><Text text="{jsonModelAct>Descaviso}"></Text><Text text="{jsonModelAct>UbicacionTec} {jsonModelAct>DescUbicacion}"></Text><Text text="{jsonModelAct>Equipo} {jsonModelAct>DescEquipo}"></Text><Text text="{jsonModelAct>Motivo}"></Text><core:Icon tooltip="{i18n>visualizar}" src="sap-icon://begin" press="navAvisoInfo"></core:Icon><core:Icon tooltip="{i18n>tomarDatos}" src="sap-icon://crm-service-manager" press="dataChange"></core:Icon><core:Icon src="sap-icon://delete" press="deleteAviso"></core:Icon></ColumnListItem></items></Table></Panel></Panel></content></Page></mvc:View>
