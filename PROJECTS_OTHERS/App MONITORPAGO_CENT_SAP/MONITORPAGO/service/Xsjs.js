sap.ui.define(["sap/ui/model/json/JSONModel"],function(e){"use strict";return{getToken:function(){sap.ui.core.BusyIndicator.show(0);return new Promise(function(e,s){$.ajax({type:"GET",url:"/H2H/PropuestaPago/xsjs/guardarAdjunto.xsjs",headers:{"X-CSRF-Token":"Fetch"},success:function(s,n,o){sap.ui.core.BusyIndicator.hide();e(o.getResponseHeader("X-CSRF-Token"))},error:function(e){sap.ui.core.BusyIndicator.hide();s(e)}})}.bind(this))},savePropuesta:function(e){return new Promise(function(s,n){var o=this;this.getToken().then(function(o){sap.ui.core.BusyIndicator.show(0);$.ajax({type:"POST",url:"/H2H/PropuestaPago/xsjs/guardarPropuesta.xsjs",data:e,headers:{"X-CSRF-Token":o},success:function(e){sap.ui.core.BusyIndicator.hide();s(e)},error:function(e){sap.ui.core.BusyIndicator.hide();n(e)},dataType:"json",contentType:"application/json"})}).catch(function(e){n(e)})}.bind(this))},obtenerConstantes:function(){sap.ui.core.BusyIndicator.show(0);return new Promise(function(e,s){$.ajax({type:"GET",url:"/H2H/PropuestaPago/xsjs/getConstantes.xsjs",success:function(s,n,o){sap.ui.core.BusyIndicator.hide();e(s)},error:function(e){sap.ui.core.BusyIndicator.hide();s(e)}})}.bind(this))}}});