sap.ui.define(["sap/ui/base/Object","sap/ui/model/Filter"],function(e,n){"use strict";let o;let t;let r=e.extend("com.centria.CartaPreregistro.oData",{constructor:function(){},setODataSapModel:function(e){o=e},obtenerBotones:function(){return new Promise(function(e,n){o.metadataLoaded().then(function(){sap.ui.core.BusyIndicator.show(0);o.read("/Boton107Set",{success:function(n){sap.ui.core.BusyIndicator.hide();e(n.results)},error:function(e){sap.ui.core.BusyIndicator.hide();console.log(e);n(e.responseText)}})})})},obtenerPDFCarta:function(e){return new Promise(function(t,r){o.metadataLoaded().then(function(){sap.ui.core.BusyIndicator.show(0);o.read("/DescarCartasPDF107Set",{filters:[new n("Botonopc","EQ",e.Botonopc),new n("Bukrs","EQ",e.Bukrs),new n("Laufi","EQ",e.Laufi),new n("Laufd","EQ",e.Laufd)],success:function(e){sap.ui.core.BusyIndicator.hide();t(e)},error:function(e){sap.ui.core.BusyIndicator.hide();console.log(e);r(e)}})})})},fnAutocompletarCampos:function(e,t){return new Promise(function(r,i){o.metadataLoaded().then(function(){let s=[];if(t==="9"){s=[new n("Botonopc","EQ",e.Botonopc),new n("Bukrs","EQ",e.Bukrs),new n("Bankl","EQ",e.Bankl),new n("Gvprov","EQ",e.Gvprov)]}else{s=[new n("Botonopc","EQ",e.Botonopc),new n("Bukrs","EQ",e.Bukrs),new n("Bankl","EQ",e.Bankl),new n("Bukrsben","EQ",e.Bukrsben),new n("Banklben","EQ",e.Banklben)]}sap.ui.core.BusyIndicator.show(0);o.read("/AutoCompCampR107Set",{filters:s,success:function(e){sap.ui.core.BusyIndicator.hide();r(e)},error:function(e){sap.ui.core.BusyIndicator.hide();console.log(e);i(e)}})})})},eliminarEntidadSAP:function(e){return new Promise(function(n,t){o.metadataLoaded().then(function(){sap.ui.core.BusyIndicator.show(0);o.remove(e,{success:function(e){sap.ui.core.BusyIndicator.hide();n(e)},error:function(e){sap.ui.core.BusyIndicator.hide();console.log(e);t(e.responseText)}})})})},crearEntidadSAP:function(e,n){return new Promise(function(t,r){o.metadataLoaded().then(function(){sap.ui.core.BusyIndicator.show(0);o.create(e,n,{success:function(e){sap.ui.core.BusyIndicator.hide();t(e)},error:function(e){sap.ui.core.BusyIndicator.hide();console.log(e);r(e.responseText)}})})})},readEntidadSAP:function(e,n){return new Promise(function(t,r){o.metadataLoaded().then(function(){sap.ui.core.BusyIndicator.show(0);o.read(e,{filters:n,success:function(e){sap.ui.core.BusyIndicator.hide();t(e)},error:function(e){sap.ui.core.BusyIndicator.hide();console.log(e);r(e.responseText)}})})})}});return{getInstance:function(){if(!t){t=new r}return t}}});